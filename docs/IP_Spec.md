汎用真性乱数 IP コアの仕様
==========================

基本仕様
--------
- 制御用に AXI Lite，データ用に AXI Stream
  - 基本的に AXI DMA IP と併用する

- 乱数生成回路とのインタフェース
  - RNG_EN  : 回路有効入力   = 1 bit
  - PARAM   : パラメータ入力 = 最大 32 bit
  - DATA_OUT: データ出力     = 最大 16 bit
  - DATA_EN : データ有効出力 = 1 bit

- データ変換回路
  - データの最下位ビットをまとめて 32 bit ずつ FIFO へ流す
  - データの合計を出力する
 
- FIFO
  - 32 bit x 1024 word (BRAM x 1)
  - 出力を AXI Stream に流す
  - FIFO があふれたかどうかもチェック

- メモリマップ
  - 0x00
    - 書き → 乱数を生成開始するとき 1, 停止するとき 0
              `RNG_GO`, `RNG_STOP`
    - 読み → 乱数を生成していれば +1，バッファ溢れたら +2
              `RNG_RUN`, `RNG_OVER`
  - 0x04
    - 書き → 送信するバイト数（0の場合は連続）
              `RNG_SEND_BYTES`
    - 読み → 送信したバイト数
              `RNG_SENT_BYTES`
  - 0x08
    - 書き → DMA1回あたりのバイト数
              `RNG_DMA_BYTES`
    - 読み → データ値の合計
              `RNG_SUM_DATA`
  - 0x0C
    - 書き → パラメータ（使い方はTRNGの種類による）
              `RNG_PARAMETER`
    - 読み → 統計情報（使い方はTRNGの種類による）
              `RNG_STATS`

ユースケース
------------

- ユースケース1（パラメータが適切かチェックする）
  1. 送信バイト数設定
  2. パラメータ指定
  3. 乱数生成開始
  4. DMA受信チャネル動作開始
  5. IP終了待ち
  6. 統計情報をチェック
  7. 乱数生成終了

- ユースケース2（ダブルバッファリングで連続して乱数を生成）
  1. 送信バイト数設定
  2. パラメータ指定
  3. 乱数生成開始
  4. DMA受信チャネル動作開始
  5. 前回のバッファの内容を保存（初回を除く）
  6. DMA終了待ち
  7. 4～6を適当な回数繰り返し
  8. 乱数生成終了
  9. 最後のバッファの内容を保存

注意
----

指定した送信バイト数と同じ量のデータをDMAにより受信する必要がある．
そうでない場合，AXI DMA でエラーが発生する．

送信バイト数に0を書き込むことで連続的に乱数の生成が行えるが，
上記の制約により，一度乱数の生成を止めてしまうと復帰ができない．
乱数生成を再び行いたい場合には，オーバーレイを書き直す必要がある．